<?xml version="1.0"?>
<page path="index" short-title="Home">
      <div class="jumbotron">
        <h1 class="display-3">Server Evolution Made Easy.</h1>
        <p>Server Mechanic is a tool to apply migration scripts to your machine step by step in a reliable way.</p>
        <p>
          Evolve<br/>
          &#183; Bare Metal Servers<br/>
          &#183; Virtual Machines<br/>
          &#183; Docker Containers<br/>
          &#183; Workspaces
        </p>
        <p><a class="btn btn-lg btn-success" href="https://github.com/server-mechanic/mechanic" role="button">Get started now</a></p>
      </div>

      <div class="row">
        <div class="col-lg-12">
<h2>How it works</h2>
          <h4>Server Mechanic for servers and virtual machines</h4>
          <p>If you want to manage your machines in a reproducable way, one strategy is the creation of "infrastructure as code".</p>
          <p>With Server Mechanic you author changes to your machines as scripts in your favorite language, e.g. shell scripts. Server Mechanic collects these migration scripts, executes them and records them as applied in an internal database. Next time only new migrations will be executed. In case of an error you fix the problem and start over.
</p>
      </div>
  </div>
      <div class="row">
        <div class="col-lg-12">
          <h4>Server Mechanic for Docker containers</h4>
          <p>Docker already utilizes the step by step approach with the commands in your Dockerfile. These commands are run at container image build time. So you have full access to the container's internal state. But external volumes cannot be manipulated by Dockerfile commands. Here Server Mechanic comes into play.</p>
          <p>Server Mechanic is started on container startup, applies your migration which migrates the state in your volumes, then container startup proceeds. So you can roll out adjustments to external volumes with new container versions and containers and volumes stay in sync.</p>
      </div>
  </div>

      <div class="row">
        <div class="col-lg-12">
<h2>Supported Platforms</h2>
  <table class="table table-bordered table-striped" id="platform-support">
    <tr><td>OS</td><td>Dist.</td><td>Version</td><td>Arch.</td><td>Supported</td><td>Notes</td></tr>
    <tr><td>Linux</td><td>Ubuntu</td><td>xenial (16.04)</td><td>i386</td><td class="supported">Yes</td><td></td></tr>
    <tr><td>Linux</td><td>Ubuntu</td><td>xenial (16.04)</td><td>amd64</td><td class="supported">Yes</td><td></td></tr>
    <tr><td>Linux</td><td>Ubuntu</td><td>yakkety (16.10)</td><td>i386</td><td class="supported">Yes</td><td></td></tr>
    <tr><td>Linux</td><td>Ubuntu</td><td>yakkety (16.10)</td><td>amd64</td><td class="supported">Yes</td><td></td></tr>
    <tr><td>Linux</td><td>Debian</td><td>wheezy (7)</td><td>i386</td><td class="supported">Yes</td><td></td></tr>
    <tr><td>Linux</td><td>Debian</td><td>wheezy (7)</td><td>amd64</td><td class="supported">Yes</td><td></td></tr>
    <tr><td>Linux</td><td>Debian</td><td>jessie (8)</td><td>i386</td><td class="supported">Yes</td><td><a href="https://github.com/server-mechanic/mechanic/issues/5" target="_blank">Broken!</a></td></tr>
    <tr><td>Linux</td><td>Debian</td><td>jessie (8)</td><td>amd64</td><td class="supported">Yes</td><td><a href="https://github.com/server-mechanic/mechanic/issues/5" target="_blank">Broken!</a></td></tr>
    <tr><td>Linux</td><td>Debian</td><td>sid (9)</td><td>i386</td><td class="supported">Yes</td><td></td></tr>
    <tr><td>Linux</td><td>Debian</td><td>sid (9)</td><td>amd64</td><td class="supported">Yes</td><td></td></tr>
    <tr><td>Linux</td><td>Fedora</td><td>25</td><td>i386</td><td class="unsupported">Not yet</td><td></td></tr>
    <tr><td>Linux</td><td>Fedora</td><td>25</td><td>amd64</td><td class="unsupported">Not yet</td><td>In Preparation</td></tr>
    <tr><td>Linux</td><td>Centos</td><td>7</td><td>i386</td><td class="unsupported">Not yet</td><td></td></tr>
    <tr><td>Linux</td><td>Centos</td><td>7</td><td>amd64</td><td class="unsupported">Not yet</td><td></td></tr>
    <tr><td>Linux</td><td>SuSE</td><td></td><td></td><td class="unsupported">Not yet</td><td></td></tr>
    <tr><td>Linux</td><td>Arch</td><td></td><td></td><td class="unsupported">Not yet</td><td></td></tr>
    <tr><td>BSD</td><td></td><td></td><td></td><td class="unsupported">Not yet</td><td></td></tr>
    <tr><td>OSX</td><td></td><td></td><td></td><td class="unsupported">Not yet</td><td></td></tr>
    <tr><td>Solaris</td><td></td><td></td><td></td><td class="unsupported">Not yet</td><td></td></tr>
    <tr><td>Windows</td><td></td><td></td><td></td><td class="unsupported">Not planned</td><td></td></tr>
  </table>
    </div>
      <div class="row">
        <div class="col-lg-12">
          <h2>Installation</h2>

          <p>Server Mechanic is installed via a shell script, that</p>
          <ul>
            <li>adds a package repository to your system</li>
            <li>and installs the mechanic package.</li>
          </ul>

          <p>Paste the following command into your command line:</p>
          <code>
          curl -s https://raw.githubusercontent.com/server-mechanic/packages/master/install-mechanic.sh | sudo bash -s unstable
          </code>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-12">
          <h2>First steps</h2>
          <p>Place your migrations below /var/lib/mechanic/migration.d/ or /etc/mechanic/migration.d/. (Make sure they are executable and exit with 0 in case of success.)</p>

          <p>An example migration:</p>
          <code>
          #!/bin/bash -ex

          echo "Hooray, mechanic is running." > /tmp/hooray.log
          exit 0
          </code>

          <p>Run the Server Mechanic to apply migrations:</p>
          <code>
          mechanic migrate
          </code>
        </div>
      </div>

<!--
## Docker container
* Add installation of mechanic to your Dockerfile
```
RUN curl -s https://raw.githubusercontent.com/server-mechanic/packages/master/install-mechanic.sh | sudo bash -s unstable
```
* Supposedly you want mechanic state to survice container restarts, so add a volume:
```
VOLUME /mechanic.volume
```
* Adjust /etc/mechanic.conf so mechanic will put state into the volume:
```
# /etc/mechanic.conf
[main]
log_file=/mechanic.volume/log/mechanic.log
pre_migration_dirs=/var/lib/mechanic/pre-migration.d/
migration_dirs=/var/lib/mechanic/migration.d/
post_migration_dirs=/var/lib/mechanic/post-migration.d/
run_dir=/mechanic.volume/tmp/
state_dir=/mechanic.volume/state
```
* Place your migrations below /var/lib/mechanic/migration.d/. (Make sure they are executable and exit with 0 in case of success.)
* Extend your container entrypoint so, that mechanic migrations will be run on container startup. Mechanic will replace itself with the actual endpoint.
```
ENTRYPOINT ["/usr/sbin/mechanic", "migrate", "- -", "PUT", "ACTUAL", "ENTRYPOINT", "HERE" ]
```
* Don't forget to start your container with the external volume mounted. (-v /path/to/volume:/mechanic.volume).
-->
</div>
<!--
      <div class="row marketing">
        <div class="col-lg-6">
          <h4>Subheading</h4>
          <p>Donec id elit non mi porta gravida at eget metus. Maecenas faucibus mollis interdum.</p>

          <h4>Subheading</h4>
          <p>Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum.</p>

          <h4>Subheading</h4>
          <p>Maecenas sed diam eget risus varius blandit sit amet non magna.</p>
        </div>

        <div class="col-lg-6">
          <h4>Subheading</h4>
          <p>Donec id elit non mi porta gravida at eget metus. Maecenas faucibus mollis interdum.</p>

          <h4>Subheading</h4>
          <p>Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum.</p>

          <h4>Subheading</h4>
          <p>Maecenas sed diam eget risus varius blandit sit amet non magna.</p>
        </div>
      </div>
      <div class="row marketing">
        <div class="col-lg-6">
          <h4>Subheading</h4>
          <p>Donec id elit non mi porta gravida at eget metus. Maecenas faucibus mollis interdum.</p>

          <h4>Subheading</h4>
          <p>Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum.</p>

          <h4>Subheading</h4>
          <p>Maecenas sed diam eget risus varius blandit sit amet non magna.</p>
        </div>

        <div class="col-lg-6">
          <h4>Subheading</h4>
          <p>Donec id elit non mi porta gravida at eget metus. Maecenas faucibus mollis interdum.</p>

          <h4>Subheading</h4>
          <p>Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum.</p>

          <h4>Subheading</h4>
          <p>Maecenas sed diam eget risus varius blandit sit amet non magna.</p>
        </div>
      </div>
-->
</page>
